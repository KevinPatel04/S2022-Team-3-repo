{% extends 'template.html' %}
{% load static %}

{% block title %}
reuse | greenCan
{% endblock %}

{% block style %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="{% static 'css/donationCard.css' %}" >
<link rel="stylesheet" href="{% static 'css/modal.css' %}" />
{% endblock %}

{% block main %}

<div class="input-group" style="margin-top:40px;margin-bottom:15px;">
    <input type="text" class="form-control" placeholder="Searching an item for donation" style="float:left;"/>
    <button class="btn btn-circle btn-search" style="margin-left: 1.5vh; margin-top:3px;"> <i class="fa fa-search"></i></button>
</div>
<div class = "container">
    <div class="row mb-5" id = "wholeCard">
{% for post in Posts %}
        <div class="col-lg-4 col-md-6 col-sm-8 col-xs-8 pt-3">
            <div class="card">
                <img src={{post.url}} class="card-img-top img-fluid">
                <div class="row" id = "cardInfo">
                    <div class="col-6">
                        <h3>{{post.title|title}}</h3>
                        <i class="fa fa-map-marker" id = "positionIcon"><p class="card-text">{{post.location }}</p></i>
                    </div>
                    <div class = "col-6">
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#details_Model{{post.id}}">Details</button>
                    </div>         
                </div>

            </div>
        </div>
<!-- pop-up window -->
<div class="modal fade" id="details_Model{{post.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" hidden="true">
    <!-- <div class="details_Model" id="details_Model" tabindex="-1" aria-labelledby="exampleModalLabel" hidden="true"></div> -->
    <div class="modal-dialog modal-dialog-scrollable px-5 py-3" style="overflow-y: initial !important">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title" id="exampleModalLabel" style = "text-align: center;">ITEM DETAILS</h3>
        </div>
        <div class="modal-body" style="max-height: 60vh; overflow-x: hidden; overflow-y:auto;">
            <div class = "container">
                <div class = "row">
                    <!-- slides of item pictures -->
                    
                    <!--<div class = "col-md-6">
                        <div class="slideshow-container">
                            <div class="mySlides fade" id = "gallery{{post.id}}">
                                <img src={{post.url}} style="width:100%">
                            </div>                      
                            <div class="mySlides fade">
                                <img src={{post.url}} style="width:100%">
                            </div> 
                            <div class="mySlides fade">
                                <img src={{post.url}} style="width:100%">
                            </div>                          
                      
                            <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                            <a class="next" onclick="plusSlides(1)">&#10095;</a>
                          
                        </div> 

                        <div style="text-align:center">
                            <span class="dot" onclick="currentSlide(1)"></span>
                            <span class="dot" onclick="currentSlide(2)"></span>
                            <span class="dot" onclick="currentSlide(3)"></span>
                        </div>
                    </div>-->
                    <div class = "col-md-6">
                        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                            <ol class="carousel-indicators">
                              <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                              <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                              <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                            </ol>
                            <div class="carousel-inner">
                              <div class="carousel-item active">
                                <img src={{post.url}} style="width:100%">
                              </div>
                              <div class="carousel-item">
                                <img src={{post.url}} style="width:100%">
                              </div>
                              <div class="carousel-item">
                                <img src={{post.url}} style="width:100%">
                              </div>
                            </div>
                            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                              <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                              <span class="carousel-control-next-icon" aria-hidden="true"></span>
                              <span class="sr-only">Next</span>
                            </a>
                          </div>

                    </div>
                    <!-- slides of item pictures -->
                    <div class = "col-md-6">
                        <p><b>&#128151 Category:   </b>  {{post.category}}</p>
                        <p><b>&#x1f4e6 Item description:   </b>  {{post.description}} </p>
                        <p><b>&#128231 Email :   </b>   {{post.email}}</p>
                        <p><b>&#128241 Phone number:</b> {{post.phone_number}}</p>
                        <p><b>&#x1F4CD Pick-up location:   </b>   {{post.location}}</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer d-flex float-right py-3">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id = "closeDetail" >Close</button>
        </div>
      </div>
    </div>
</div>
{% endfor %}
</div>
</div>

{% endblock %}

{% block scripts %}
<script>
/*
//Script for the slider of pictures
    var slideIndex = 1;
    showSlides(slideIndex);
    // Next/previous controls
    
    function plusSlides(n) {
        showSlides(slideIndex += n);
    }
    //click on dots
    function currentSlide(n,gallery) {
        showSlides(slideIndex = n, gallery);
    }
    function showSlides(n,gallery) {
        var i;
        var slides = document.getElementsByClassName("mySlides");
        var dots = document.getElementsByClassName("dot");
        
        if (n < 1) {
            slideIndex = 1;
        } 
        else if (n > slides.length) {
            slideIndex = slides.length;
        }
        else{
            slideIndex = n;
        } 
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex-1].style.display = "block";
        dots[slideIndex-1].className += " active";
    }
*/
</script>
<script language="JavaScript" type="text/javascript">
    $(document).ready(function(){
      $('.carousel').carousel({
        interval: 3000
      })
    });    
</script>
{% endblock %}