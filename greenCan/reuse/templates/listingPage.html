{% extends 'template.html' %}
{% load static %}

{% block title %}
reuse | greenCan
{% endblock %}

{% block style %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="{% static 'css/donationCard.css' %}" >
<link rel="stylesheet" href="{% static 'css/modal.css' %}" />
<link rel="stylesheet" href="{% static 'css/picSlider.css' %}" />
<link rel="stylesheet" href="{% static 'modules/owl-carousel-2/css/owl-carousel2.min.css' %}" />
<style>

</style>
{% endblock %}

{% block main %}

<div class="input-group" style="margin-top:40px;margin-bottom:15px;">
    <input type="text" class="form-control" placeholder="Searching an item for donation" style="float:left;"/>
    <button class="btn btn-circle btn-search" style="margin-left: 1.5vh; margin-top:3px;"> <i class="fa fa-search"></i></button>
</div>
<div class = "container">
    <div class="row mb-5" id = "wholeCard">
{% for post in Posts %}
        <div class="col-lg-4 col-md-6 col-sm-8 col-xs-8 pt-3">
            <div class="card">
                <img src={{post.url}} class="card-img-top img-fluid">
                <div class="row" id = "cardInfo">
                    <div class="col-6">
                        <h3>{{post.title|title}}</h3>
                        <i class="fa fa-map-marker" id = "positionIcon"><p class="card-text">{{post.location }}</p></i>
                    </div>
                    <div class = "col-6">
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#details_Model{{post.id}}">Details</button>
                    </div>         
                </div>

            </div>
        </div>
<!-- pop-up window -->
<div class="modal fade" id="details_Model{{post.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" hidden="true">
    <!-- <div class="details_Model" id="details_Model" tabindex="-1" aria-labelledby="exampleModalLabel" hidden="true"></div> -->
    <div class="modal-dialog modal-dialog-scrollable px-5 py-3" style="overflow-y: initial !important">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title" id="exampleModalLabel" style = "text-align: center;">ITEM DETAILS</h3>
        </div>
        <div class="modal-body" style="max-height: 60vh; overflow-x: hidden; overflow-y:auto;">
            <div class = "container">
                <div class = "row">
                    <!-- slides of item pictures -->
                    <div class = "col-md-6">
                        <div class="owl-carousel owl-theme">
                            <div class="item"><img src={{post.url}} style="width:100%"/></div>
                            <div class="item"><img src={{post.url}} style="width:100%"/></div>
                        </div>
                    </div>
                    <!-- slides of item pictures -->
                    <div class = "col-md-6">
                        <p><b>&#128151 Category:   </b>  {{post.category}}</p>
                        <p><b>&#x1f4e6 Item description:   </b>  {{post.description}} </p>
                        <p><b>&#128231 Email :   </b>   {{post.email}}</p>
                        <p><b>&#128241 Phone number:</b> {{post.phone_number}}</p>
                        <p><b>&#x1F4CD Pick-up location:   </b>   {{post.location}}</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer d-flex float-right py-3">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id = "closeDetail" >Close</button>
        </div>
      </div>
    </div>
</div>
{% endfor %}
</div>
</div>

{% endblock %}

{% block scripts %}
<script src="{% static 'modules/owl-carousel-2/js/owl-carousel2.min.js' %}"></script>
<script>
  $(document).ready(function() {
    var owl = $('.owl-carousel');
    //init default carousel
    owl.owlCarousel({
        items: 1,
        margin:40,
        nav:true,
        stagePadding: 30,
        smartSpeed: 450,
        navText : ["<i class='fas fa-chevron-left'></i>","<i class='fas fa-chevron-right'></i>"]
    });

}); 
</script>
{% endblock %}